@model IEnumerable<EmsWebApplication.Models.Ticket>
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

@foreach (var item in Model)
{
    <div class="ticket">
        <h3>@item.Event.EventName</h3>
        <p><strong>Date:</strong> @item.Event.EventDate</p>
        <p><strong>Venue:</strong> @item.Event.EventVenue</p>
        <p><strong>Description:</strong> @item.Event.EventDescription</p>
        <p><strong>Price:</strong> $@item.Event.EventPrice</p>

        <!-- Button to add the ticket to the cart -->
        <button class="addToCartButton" data-ticket-id="@item.TicketId">Add to Cart</button>
    </div>
}

<style>
    .ticket {
        border: 1px solid #ccc;
        padding: 10px;
        margin: 10px;
    }
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
<script>

    $(document).ready(function () {
        var cart = [];

        // Click event for "Add to Cart" buttons
        $(".addToCartButton").click(function () {
            var ticketId = $(this).data("ticket-id");
            cart.push(ticketId);
            alert("Ticket ID " + ticketId + " added to cart.");

            // Optionally, you can update the UI to reflect the item being added to the cart.
            // For example, change the button text to "Added" or disable the button.
        });

        // Handle checkout or other cart-related actions here.
    });

</script>
